<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>RPG Naruto</title>
    <link rel="icon" href="favicon.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --bg-color: #fafafa;
            --sidebar-bg: #ffffff;
            --text-color: #262626;
            --primary-color: #ff5e00;
            --card-bg: #ffffff;
            --border-color: #dbdbdb;
            --green-color: #2ecc71;
            --yellow-color: #f1c40f;
            --danger-color: #ed4956;
            --en-color: #3498db;
            
            /* CORES DE STATUS */
            --stat-chakra: #2980b9; 
            --stat-stamina: #ff9f43; 
            --stat-dano: #e74c3c;   
            --stat-buff: #9b59b6;   
            
            /* CORES BATALHA */
            --hp-color: #e74c3c;       
            --sanidade-color: #3498db; 
            --stamina-color: #ff9f43;  
            --chakra-color: #2980b9;   
        }
        body.dark-mode { --bg-color: #000000; --sidebar-bg: #000000; --text-color: #f5f5f5; --card-bg: #121212; --border-color: #363636; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background-color: var(--bg-color); color: var(--text-color); height: 100vh; overflow: hidden; }

        /* RANK TAGS */
        .rank-tag { display: inline-block; padding: 2px 8px; border-radius: 4px; font-weight: bold; color: white; font-size: 0.75rem; margin-right: 5px; vertical-align: middle; text-transform: uppercase; }
        .rank-s { background-color: #000; border: 1px solid #ed4956; color: #ed4956; box-shadow: 0 0 5px #ed4956; } 
        .rank-a { background-color: #ed4956; } 
        .rank-b { background-color: #2980b9; } 
        .rank-c { background-color: #2ecc71; } 
        .rank-d { background-color: #f1c40f; color: black; } 
        .rank-e { background-color: #95a5a6; } 

        /* LOGIN */
        .login-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 999; display: flex; justify-content: center; align-items: center; padding: 20px; }
        .login-box { background: white; padding: 30px; border-radius: 10px; width: 100%; max-width: 320px; text-align: center; }
        .login-box input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ccc; border-radius: 5px; font-size: 16px; }
        .login-box button { background: var(--primary-color); color: white; border: none; padding: 12px; width: 100%; cursor: pointer; border-radius: 5px; font-weight: bold; font-size: 16px; }

        /* LAYOUT */
        #app-container { display: flex; height: 100vh; position: relative; }
        .sidebar-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 998; opacity: 0; transition: opacity 0.3s; }
        .sidebar-overlay.active { display: block; opacity: 1; }
        .sidebar { width: 250px; background: var(--sidebar-bg); border-right: 1px solid var(--border-color); display: flex; flex-direction: column; padding: 20px; overflow-y: auto; flex-shrink: 0; z-index: 999; transition: transform 0.3s ease; }
        .logo { font-size: 24px; font-weight: bold; color: var(--primary-color); margin-bottom: 40px; font-family: 'Segoe UI', sans-serif; letter-spacing: 1px; }
        .sidebar button { background: none; border: none; color: var(--text-color); width: 100%; text-align: left; padding: 12px 15px; cursor: pointer; border-radius: 8px; transition: 0.2s; display: flex; align-items: center; gap: 15px; margin-bottom: 5px; font-size: 1rem; }
        .sidebar button:hover { background-color: rgba(0,0,0,0.05); }
        .sidebar button.active { background-color: rgba(255, 94, 0, 0.1); font-weight: bold; color: var(--primary-color); border-left: 4px solid var(--primary-color); }
        #btn-admin-panel { display: none; color: #ed4956; font-weight: bold; }

        .main-content { flex: 1; display: flex; flex-direction: column; overflow: hidden; position: relative; width: 100%; }
        header { height: 60px; background: var(--sidebar-bg); border-bottom: 1px solid var(--border-color); display: flex; justify-content: space-between; align-items: center; padding: 0 15px; flex-shrink: 0; z-index: 10; }
        #mobile-menu-btn { display: none; background: none; border: none; font-size: 1.5rem; color: var(--text-color); cursor: pointer; margin-right: 10px; }
        .top-nav { display: flex; gap: 15px; overflow-x: auto; flex: 1; margin-right: 10px; scrollbar-width: none; }
        .top-btn { background: none; border: none; padding: 10px 5px; color: #8e8e8e; cursor: pointer; border-bottom: 2px solid transparent; white-space: nowrap; font-size: 0.9rem; font-weight: 500; }
        .top-btn.active { border-bottom-color: var(--primary-color); color: var(--text-color); font-weight: bold; }

        .user-area { display: flex; align-items: center; gap: 10px; position: relative; }
        .currency-container { display: flex; gap: 10px; }
        .ryos { font-weight: bold; color: #e6b800; background: rgba(230, 184, 0, 0.1); padding: 5px 10px; border-radius: 15px; white-space: nowrap; font-size: 0.8rem; display: flex; align-items: center; gap: 5px; }
        .essencia { font-weight: bold; color: var(--en-color); background: rgba(52, 152, 219, 0.1); padding: 5px 10px; border-radius: 15px; white-space: nowrap; font-size: 0.8rem; display: flex; align-items: center; gap: 5px; }
        .profile-circle { width: 35px; height: 35px; border-radius: 50%; overflow: hidden; cursor: pointer; border: 1px solid var(--border-color); flex-shrink: 0; }
        .profile-circle img { width: 100%; height: 100%; object-fit: cover; }
        .dropdown-menu { display: none; position: absolute; top: 50px; right: 0; background: var(--card-bg); border: 1px solid var(--border-color); width: 200px; border-radius: 6px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); padding: 5px 0; z-index: 100; }
        .dropdown-menu.show { display: block; }
        .dropdown-item { display: block; padding: 12px 15px; color: var(--text-color); text-decoration: none; cursor: pointer; font-size: 14px; display: flex; align-items: center; gap: 10px; }
        .dropdown-item:hover { background: rgba(0,0,0,0.03); }

        #content-area { padding: 20px; overflow-y: auto; background-color: var(--bg-color); flex: 1; }
        .tab-content { display: none; animation: fadeIn 0.3s; }
        .tab-content.active { display: block; }

        /* CARDS E GRIDS */
        .bucket-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 15px; margin-top: 20px; }
        .card { background: var(--card-bg); padding: 10px; border-radius: 8px; border: 1px solid var(--border-color); text-align: center; cursor: pointer; transition: 0.2s; overflow: hidden; position: relative; display: flex; flex-direction: column; }
        .card:hover { transform: translateY(-2px); border-color: var(--primary-color); }
        .card-img-top { width: 100%; height: 120px; object-fit: cover; border-radius: 4px; margin-bottom: 8px; border: 1px solid #eee; }
        .card h4 { margin-bottom: 5px; font-size: 1rem; }
        .card small { display: block; margin-bottom: 8px; color: #777; }
        
        .buy-btn { background-color: var(--primary-color); color: white; border: none; padding: 10px; width: 100%; border-radius: 5px; font-weight: bold; margin-top: auto; font-size: 1rem; cursor: pointer; transition: background 0.2s; }
        .buy-btn:hover { background-color: #e05200; }
        .buy-btn:disabled { background-color: #ccc; cursor: not-allowed; opacity: 0.7; }
        .buy-btn.en-btn { background-color: var(--en-color); }
        .buy-btn.en-btn:hover { background-color: #2980b9; }

        .qtd-container-square { display: flex; justify-content: center; margin: 10px 0 8px 0; width: 100%; }
        .qtd-input-square { width: 45px; height: 45px; text-align: center; font-size: 1.2rem; font-weight: bold; border: 2px solid var(--border-color); border-radius: 8px; background: var(--bg-color); color: var(--text-color); padding: 0; -moz-appearance: textfield; }
        .qtd-input-square::-webkit-outer-spin-button, .qtd-input-square::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        .qtd-input-square:focus { border-color: var(--primary-color); outline: none; }
        .price-tag { font-weight: bold; font-size: 1.05rem; margin-bottom: 5px; color: var(--primary-color); }
        .price-tag.en-price { color: var(--en-color); }

        .qtd-badge { position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.7); color: white; padding: 2px 8px; border-radius: 10px; font-size: 0.8rem; font-weight: bold; border: 1px solid rgba(255,255,255,0.3); }
        .inventory-controls { display: flex; align-items: center; justify-content: center; gap: 10px; margin-top: 8px; background: rgba(0,0,0,0.03); padding: 5px; border-radius: 20px; }
        .btn-minus { background: var(--danger-color); color: white; border: none; width: 24px; height: 24px; border-radius: 50%; cursor: pointer; font-weight: bold; display: flex; align-items: center; justify-content: center; transition: 0.2s; }
        .btn-minus:hover { transform: scale(1.1); }
        .maestria-display { display: block; font-size: 0.85rem; color: var(--yellow-color); font-weight: bold; margin-top: 4px; text-shadow: 0 0 1px rgba(0,0,0,0.1); }

        .shop-header { margin-bottom: 20px; background: var(--card-bg); padding: 15px; border-radius: 8px; border: 1px solid var(--border-color); }
        .shop-location-select { width: 100%; padding: 10px; border: 1px solid var(--border-color); border-radius: 5px; font-size: 1rem; margin-bottom: 10px; background: var(--bg-color); color: var(--text-color); }
        .shop-categories { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 5px; scrollbar-width: none; }
        .shop-cat-btn { padding: 8px 15px; border: 1px solid var(--border-color); background: var(--bg-color); border-radius: 20px; cursor: pointer; white-space: nowrap; font-weight: 500; color: var(--text-color); transition: 0.2s; }
        .shop-cat-btn.active { background: var(--primary-color); color: white; border-color: var(--primary-color); }
        .shop-cat-btn:hover { opacity: 0.8; }

        .powers-wrapper { display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 20px; }
        .elementos-container { flex: 1; min-width: 120px; background: var(--card-bg); border-radius: 10px; border: 1px solid var(--border-color); padding: 10px; text-align: center; }
        .elementos-title { font-size: 0.85rem; font-weight: bold; color: #777; margin-bottom: 8px; text-transform: uppercase; }
        .elementos-list { display: flex; justify-content: center; gap: 8px; flex-wrap: wrap; }
        .element-icon { width: 35px; height: 35px; border-radius: 50%; object-fit: cover; border: 2px solid var(--border-color); padding: 2px; background: #fff; }

        /* STAT TAGS */
        .stats-row { display: flex; justify-content: center; flex-wrap: wrap; gap: 5px; margin: 5px 0; }
        .stat-tag { padding: 3px 8px; border-radius: 10px; color: white; font-weight: bold; font-size: 0.7rem; }
        .tag-dano { background-color: var(--stat-dano); }
        .tag-chakra { background-color: var(--stat-chakra); }
        .tag-stamina { background-color: var(--stat-stamina); }
        .tag-buff { background-color: var(--stat-buff); }
        .tag-attr { background-color: #34495e; }

        /* BATALHA */
        .battle-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .battle-card { background: #1a1a1a; color: white; border-radius: 15px; padding: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.5); border: 1px solid #333; }
        .battle-header-info { display: flex; align-items: center; gap: 15px; margin-bottom: 15px; border-bottom: 1px solid #333; padding-bottom: 10px; }
        .battle-avatar { width: 60px; height: 60px; border-radius: 50%; border: 2px solid #555; object-fit: cover; }
        .battle-name { font-weight: bold; font-size: 1.1rem; }
        .battle-char { font-size: 0.85rem; color: #aaa; }
        .battle-stats-wrapper { display: flex; flex-direction: column; gap: 10px; }
        .battle-row { display: flex; flex-direction: column; gap: 2px; }
        .battle-row-header { display: flex; justify-content: space-between; align-items: center; font-size: 0.85rem; font-weight: bold; color: #ccc; }
        .battle-bar-bg { width: 100%; height: 18px; background: #333; border-radius: 4px; overflow: hidden; position: relative; display: flex; align-items: center; }
        .battle-bar-fill { height: 100%; transition: width 0.3s ease; position: absolute; top: 0; left: 0; z-index: 1; }
        .battle-bar-text { position: relative; z-index: 2; width: 100%; text-align: center; font-size: 0.75rem; font-weight: bold; text-shadow: 0 0 3px black; }
        .bar-life { background-color: var(--hp-color); }
        .bar-sanidade { background-color: var(--sanidade-color); }
        .bar-stamina { background-color: var(--stamina-color); } 
        .bar-chakra { background-color: var(--chakra-color); } 
        .battle-actions-row { display: flex; justify-content: space-between; margin-top: 2px; }
        .battle-mini-btn { background: #333; border: 1px solid #444; color: #ccc; width: 25px; height: 25px; border-radius: 4px; cursor: pointer; font-size: 0.8rem; display: flex; align-items: center; justify-content: center; }
        .battle-mini-btn:hover { background: #555; color: white; }

        /* FEED E OUTROS */
        #feed { max-width: 600px; margin: 0 auto; width: 100%; }
        .create-post { background: var(--card-bg); padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid var(--border-color); }
        .create-post textarea { width: 100%; padding: 10px; border: none; outline: none; background: transparent; color: var(--text-color); resize: none; font-size: 1rem; }
        .post-tools { display: flex; justify-content: space-between; align-items: center; border-top: 1px solid var(--border-color); padding-top: 10px; margin-top: 10px; }
        .upload-btn { cursor: pointer; color: var(--primary-color); font-size: 0.9rem; font-weight: 600; display: inline-flex; align-items: center; gap: 5px; }
        #imageInput { display: none; }
        #preview-container { margin-top: 10px; display: none; position: relative; width: 100%; text-align: center; background: #000; border-radius: 4px; overflow: hidden; }
        #preview-image { max-width: 100%; max-height: 300px; object-fit: contain; }
        .remove-img { position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.6); color: white; border: none; border-radius: 50%; width: 24px; height: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .btn-post { background: var(--primary-color); color: white; border: none; padding: 8px 20px; border-radius: 20px; font-weight: 600; cursor: pointer; font-size: 0.9rem; }
        .post { background: var(--card-bg); border-radius: 8px; margin-bottom: 15px; border: 1px solid var(--border-color); position: relative; overflow: visible; }
        .post-header { display: flex; align-items: center; padding: 10px; }
        .user-avatar-post { width: 35px; height: 35px; border-radius: 50%; background: #efefef; margin-right: 10px; overflow: hidden; border: 1px solid var(--border-color); }
        .user-avatar-post img { width: 100%; height: 100%; object-fit: cover; }
        .post-info { display: flex; flex-direction: column; }
        .post-author { font-weight: 600; font-size: 0.95rem; color: var(--text-color); }
        .post-time { font-size: 0.75rem; color: #8e8e8e; }
        .post-menu-container { margin-left: auto; position: relative; }
        .post-options-btn { cursor: pointer; color: var(--text-color); padding: 8px; width: 30px; text-align: center; }
        .post-dropdown { display: none; position: absolute; top: 100%; right: 0; background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 6px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 100; width: 140px; }
        .post-dropdown.active { display: block; }
        .post-dropdown-item { padding: 10px; cursor: pointer; display: flex; align-items: center; gap: 8px; font-size: 0.9rem; color: var(--text-color); }
        .post-dropdown-item.danger { color: var(--danger-color); }
        .post-content { padding: 0 10px 10px 10px; line-height: 1.5; white-space: pre-wrap; font-size: 0.95rem; }
        .post-image { width: 100%; height: auto; display: block; border-top: 1px solid var(--border-color); border-bottom: 1px solid var(--border-color); max-height: 600px; object-fit: cover; }
        .post-actions { display: flex; padding: 10px; gap: 15px; }
        .action-btn { background: none; border: none; cursor: pointer; color: var(--text-color); font-size: 1.5rem; display: flex; align-items: center; gap: 5px; padding: 0; }
        .action-btn.liked { color: var(--danger-color); }

        .rankings-wrapper { display: flex; gap: 20px; flex-wrap: wrap; padding-bottom: 20px; }
        .ranking-col { flex: 1 1 300px; background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 10px; padding: 15px; }
        .ranking-col h3 { color: var(--primary-color); text-align: center; margin-bottom: 15px; border-bottom: 2px solid var(--primary-color); font-size: 1.1rem; }
        .ranking-table { width: 100%; border-collapse: collapse; font-size: 14px; }
        .ranking-table td { padding: 8px; border-bottom: 1px solid var(--border-color); }

        .modal-overlay-comment { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 2000; justify-content: center; align-items: center; backdrop-filter: blur(2px); }
        .close-modal { position: absolute; top: 10px; left: 15px; font-size: 1.8rem; color: white; cursor: pointer; z-index: 20; text-shadow: 0 0 5px black; }
        .modal-content-card { background: var(--card-bg); padding: 30px; border-radius: 10px; width: 90%; max-width: 350px; text-align: center; position: relative; border: 1px solid var(--border-color); }
        .jutsu-modal-img { width: 100%; height: 200px; object-fit: cover; border-radius: 8px; margin-bottom: 15px; border: 1px solid var(--border-color); }
        .jutsu-modal-rank { display: inline-block; background: var(--primary-color); color: white; padding: 5px 15px; border-radius: 20px; font-weight: bold; margin-bottom: 10px; }
        .jutsu-modal-price { color: var(--green-color); font-weight: bold; font-size: 1.2rem; border-top: 1px solid var(--border-color); padding-top: 15px; }

        .modal-content-profile { background: var(--card-bg); width: 90%; max-width: 800px; max-height: 90vh; border-radius: 15px; overflow-y: auto; position: relative; border: 1px solid var(--border-color); }
        .profile-header { background: linear-gradient(to right, #ff5e00, #ff9100); padding: 40px 20px; text-align: center; color: white; }
        .profile-avatar-large { width: 100px; height: 100px; border-radius: 50%; border: 4px solid white; margin: 0 auto 15px auto; overflow: hidden; background: #fff; }
        .profile-avatar-large img { width: 100%; height: 100%; object-fit: cover; }
        .profile-name { font-size: 1.8rem; font-weight: bold; }
        .profile-char { font-size: 1.1rem; opacity: 0.9; }
        .profile-body { padding: 20px; }
        .profile-stats-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(110px, 1fr)); gap: 10px; margin-bottom: 30px; }
        .stat-card { background: var(--bg-color); border: 1px solid var(--border-color); border-radius: 10px; padding: 10px; text-align: center; }
        .stat-value { font-size: 1.2rem; font-weight: bold; color: var(--primary-color); }
        .stat-label { font-size: 0.75rem; color: #777; margin-top: 3px; text-transform: uppercase; font-weight: bold; }
        .stats-divider { grid-column: 1 / -1; font-weight: bold; color: var(--text-color); margin: 20px 0 5px 0; border-bottom: 1px solid var(--border-color); padding-bottom: 5px; }

        .modal-content-comment { background: var(--card-bg); width: 90%; max-width: 900px; height: 80vh; border-radius: 4px; display: flex; overflow: hidden; position: relative; }
        .modal-left { flex: 1.5; background: #000; display: flex; align-items: center; justify-content: center; }
        .modal-left img { max-width: 100%; max-height: 100%; object-fit: contain; }
        .modal-right { flex: 1; display: flex; flex-direction: column; background: var(--card-bg); border-left: 1px solid var(--border-color); }
        .comments-list { flex: 1; padding: 15px; overflow-y: auto; }
        .comment-input-area { padding: 15px; border-top: 1px solid var(--border-color); display: flex; gap: 10px; }
        .comment-input-area input { flex: 1; padding: 10px; border: 1px solid var(--border-color); border-radius: 20px; outline: none; }
        .edit-input { width: 100%; padding: 10px; margin-bottom: 15px; border: 1px solid var(--border-color); border-radius: 5px; }
        .edit-avatar-preview { width: 80px; height: 80px; border-radius: 50%; object-fit: cover; border: 2px solid var(--primary-color); margin: 10px auto; display: block; }
        
        .level-container { background: var(--card-bg); padding: 15px; border-radius: 10px; border: 1px solid var(--border-color); margin-bottom: 20px; }
        .level-info { display: flex; justify-content: space-between; margin-bottom: 5px; font-weight: bold; color: var(--text-color); }
        .xp-bar-bg { width: 100%; height: 20px; background: #eee; border-radius: 10px; overflow: hidden; position: relative; }
        .xp-bar-fill { height: 100%; background: linear-gradient(90deg, #ff9100, #ff5e00); width: 0%; transition: width 0.5s ease-in-out; }
        .xp-text { position: absolute; width: 100%; text-align: center; top: 0; left: 0; font-size: 0.75rem; color: #333; line-height: 20px; font-weight: bold; text-shadow: 0 0 2px white; }

        @media (max-width: 768px) {
            #mobile-menu-btn { display: block; }
            .sidebar { position: fixed; top: 0; left: -260px; height: 100%; box-shadow: 2px 0 10px rgba(0,0,0,0.3); transition: left 0.3s ease; }
            .sidebar.mobile-active { left: 0; }
            .main-content { width: 100%; }
            header { padding: 0 10px; }
            #content-area { padding: 10px; }
            .bucket-grid { grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 10px; }
            .profile-stats-grid { grid-template-columns: repeat(2, 1fr); }
            .modal-content-comment { flex-direction: column; height: 100%; width: 100%; border-radius: 0; }
            .modal-left { height: 40%; }
            .modal-content-profile { width: 100%; height: 100%; border-radius: 0; }
            .historia-img-container { height: 200px; }
        }
    </style>
</head>
<body>

    <div id="copyFeedback" style="position:fixed; bottom:20px; left:50%; transform:translateX(-50%); background:rgba(0,0,0,0.8); color:white; padding:10px 20px; border-radius:20px; z-index:3000; display:none;">Frase copiada!</div>

    <div id="login-screen" class="login-overlay">
        <div class="login-box">
            <h2>RPG Naruto</h2>
            <input type="email" id="emailInput" placeholder="E-mail">
            <input type="password" id="passwordInput" placeholder="Senha">
            <button id="btnLogin">Entrar</button>
            <p style="font-size: 12px; margin-top: 15px; color:#777;">Não possui uma conta? Fale com o administrador.</p>
            <p id="msgError" style="color: red; font-size: 12px; margin-top: 10px;"></p>
        </div>
    </div>

    <div id="app-container" style="display: none;">
        <div class="sidebar-overlay" onclick="toggleMobileMenu()"></div>
        
        <aside class="sidebar">
            <div class="logo"><i class="fa-solid fa-scroll"></i> RPG NARUTO</div>
            <nav>
                <button id="side-btn-dashboard" onclick="showTab('dashboard')" class="active"><i class="fa-solid fa-chart-line"></i> Dashboard</button>
                <button id="side-btn-batalha" onclick="showTab('batalha')"><i class="fa-solid fa-khanda"></i> Batalha</button>
                <button id="side-btn-inventario" onclick="showTab('inventario')"><i class="fa-solid fa-box-open"></i> Inventário</button>
                <button id="side-btn-missoes" onclick="showTab('missoes')"><i class="fa-solid fa-scroll"></i> Missões</button>
                <button id="side-btn-conquistas" onclick="showTab('conquistas')"><i class="fa-solid fa-trophy"></i> Conquistas</button>
                <button id="side-btn-personagens" onclick="showTab('personagens')"><i class="fa-solid fa-users"></i> Personagens</button>
                <button id="side-btn-loja" onclick="showTab('loja')"><i class="fa-solid fa-store"></i> Loja</button>
                <button id="side-btn-rankings" onclick="showTab('rankings')"><i class="fa-solid fa-trophy"></i> Rankings</button>
                <button id="btn-admin-panel" onclick="showTab('admin-panel')"><i class="fa-solid fa-user-shield"></i> Painel Kage</button>
            </nav>
        </aside>

        <main class="main-content">
            <header>
                <button id="mobile-menu-btn" onclick="toggleMobileMenu()"><i class="fa-solid fa-bars"></i></button>
                <nav class="top-nav">
                    <button id="nav-btn-feed" onclick="showTab('feed')" class="top-btn active">Feed</button>
                    <button id="nav-btn-jutsus" onclick="showTab('jutsus')" class="top-btn">Jutsus</button>
                    <button id="nav-btn-ferramentas" onclick="showTab('ferramentas')" class="top-btn">Ferramentas</button>
                    <button id="nav-btn-historia" onclick="showTab('historia')" class="top-btn">História</button>
                    <button id="nav-btn-frases" onclick="showTab('frases')" class="top-btn">Frases</button>
                </nav>
                <div class="user-area">
                    <div class="currency-container">
                        <span class="ryos"><i class="fa-solid fa-coins"></i> <span id="ryos-text">0</span></span>
                        <span class="essencia"><i class="fa-regular fa-star"></i> <span id="en-text">0</span> EN</span>
                    </div>
                    <div class="profile-circle" onclick="toggleMenu()">
                        <img id="header-avatar" src="https://placehold.co/40x40/orange/white?text=N" alt="Avatar">
                    </div>
                    <div id="user-menu" class="dropdown-menu">
                        <div class="user-info" style="padding:10px 15px; font-weight:bold; border-bottom:1px solid var(--border-color);">...</div>
                        <div class="dropdown-item" onclick="openEditProfileModal()"><i class="fa-solid fa-user-pen"></i> Perfil e Personagem</div>
                        <div class="dropdown-item" onclick="openChangePasswordModal()"><i class="fa-solid fa-lock"></i> Alterar Senha</div>
                        <div class="dropdown-item" onclick="renderFeed('saved')"><i class="fa-regular fa-bookmark"></i> Salvos</div>
                        <div class="dropdown-item" onclick="renderFeed('all')"><i class="fa-solid fa-globe"></i> Feed Geral</div>
                        <div class="dropdown-item" onclick="fazerLogout()" style="color:var(--danger-color);"><i class="fa-solid fa-arrow-right-from-bracket"></i> Sair</div>
                    </div>
                </div>
            </header>

            <div id="content-area">
                <div id="feed" class="tab-content active">
                    <div class="create-post">
                        <textarea id="postInput" placeholder="No que você está pensando?" rows="2"></textarea>
                        <div id="preview-container" style="display:none; margin-top:10px; position:relative;">
                            <img id="preview-image" src="" style="max-width:100%; max-height:300px; border-radius:4px;">
                            <button onclick="removeImage()" style="position:absolute; top:5px; right:5px; background:rgba(0,0,0,0.6); color:white; border:none; border-radius:50%; width:25px; height:25px;">×</button>
                        </div>
                        <div class="post-tools">
                            <label for="imageInput" style="cursor:pointer; color:var(--primary-color); font-weight:600; display:flex; align-items:center; gap:5px;" class="upload-btn">
                                <i class="fa-regular fa-image"></i> Foto/Vídeo
                            </label>
                            <input type="file" id="imageInput" accept="image/*" onchange="handleImageUpload(event)" style="display:none;">
                            <button class="btn-post" onclick="publicarPost()">Publicar</button>
                        </div>
                    </div>
                    <div id="feed-container"><p style="text-align:center; color:#777; padding:20px;">Carregando feed...</p></div>
                </div>

                <div id="batalha" class="tab-content">
                    <h2 style="margin-bottom:15px;">Painel de Batalha</h2>
                    <div class="battle-grid" id="battle-grid">
                        <p style="color:#777;">Carregando lutadores...</p>
                    </div>
                </div>

                <div id="conquistas" class="tab-content">
                    <h2>Conquistas</h2>
                    <div class="bucket-grid" id="conquistas-grid"><p>Carregando...</p></div>
                </div>

                <div id="jutsus" class="tab-content"><h3>Meus Jutsus</h3><div class="bucket-grid" id="meus-jutsus-grid"><p>Carregando...</p></div><hr style="border:0; border-top:1px solid var(--border-color); margin:20px 0;"><h3>Loja de Jutsus</h3><div class="bucket-grid" id="loja-jutsus-grid"><p>Carregando...</p></div></div>
                <div id="ferramentas" class="tab-content"><h3>Loja de Ferramentas</h3><div class="bucket-grid" id="loja-ferramentas-grid"><p>Carregando...</p></div></div>
                
                <div id="loja" class="tab-content">
                      <div class="shop-header">
                        <h3 style="margin-bottom:10px;">Localização Atual</h3>
                        <select id="shop-location" class="shop-location-select" onchange="atualizarFiltroVila()">
                            <option value="Konoha">Vila da Folha (Konoha)</option>
                            <option value="Suna">Vila da Areia (Suna)</option>
                            <option value="Kiri">Vila da Névoa (Kiri)</option>
                            <option value="Kumo">Vila da Nuvem (Kumo)</option>
                            <option value="Iwa">Vila da Pedra (Iwa)</option>
                            <option value="Ame">Vila da Chuva (Ame)</option>
                            <option value="Oto">Vila do Som (Oto)</option>
                            <option value="Kori">Vila do Gelo (Kori)</option>
                        </select>
                        <h3 style="margin:15px 0 10px;">Estabelecimentos</h3>
                        <div class="shop-categories">
                            <button class="shop-cat-btn active" onclick="filtrarLojaPorTipo('mercado', this)">Mercado</button>
                            <button class="shop-cat-btn" onclick="filtrarLojaPorTipo('comida', this)">Restaurantes</button>
                            <button class="shop-cat-btn" onclick="filtrarLojaPorTipo('remedio', this)">Hospital/Farmácia</button>
                            <button class="shop-cat-btn" onclick="filtrarLojaPorTipo('roupa', this)">Roupas</button>
                            <button class="shop-cat-btn" onclick="filtrarLojaPorTipo('acessorio', this)">Acessórios</button>
                            <button class="shop-cat-btn" onclick="filtrarLojaPorTipo('padaria', this)">Padaria</button>
                            <button class="shop-cat-btn" onclick="filtrarLojaPorTipo('floricultura', this)">Floricultura</button>
                            <button class="shop-cat-btn" onclick="filtrarLojaPorTipo('ferreiro', this)">Ferreiro</button>
                            <button class="shop-cat-btn" onclick="filtrarLojaPorTipo('biblioteca', this)">Biblioteca</button>
                        </div>
                    </div>
                    <h3>Itens à Venda</h3>
                    <div class="bucket-grid" id="loja-itens-grid"><p>Carregando...</p></div>
                </div>

                <div id="inventario" class="tab-content">
                    <h2>Meu Inventário</h2>
                    <div class="bucket-grid" id="inventario-grid"><p>Carregando itens...</p></div>
                </div>

                <div id="personagens" class="tab-content"><h2>Diretório de Ninjas</h2><div class="bucket-grid" id="directory-grid"><p>Carregando...</p></div></div>
                <div id="missoes" class="tab-content"><h2>Quadro de Missões</h2><div class="bucket-grid" id="missoes-grid"><p>Carregando...</p></div></div>
                <div id="rankings" class="tab-content"><h2>Rankings Globais</h2><div class="rankings-wrapper" id="ranking-container"><p>Carregando Rankings...</p></div></div>
                <div id="admin-panel" class="tab-content"><h2>Painel Kage</h2><div class="bucket-grid" id="admin-missoes-grid"><p>Carregando...</p></div></div>
                
                <div id="dashboard" class="tab-content">
                    <h2>Estatísticas do Ninja</h2>
                    <div class="level-container">
                        <div class="level-info"><span id="level-display">Nível 1</span><span id="xp-text-display">0 / 500 XP</span></div>
                        <div class="xp-bar-bg"><div class="xp-bar-fill" id="xp-bar"></div><div class="xp-text">Progresso</div></div>
                    </div>
                    
                    <div class="powers-wrapper">
                        <div class="elementos-container" id="dash-elementos" style="display:none;"></div>
                        <div class="elementos-container" id="dash-kekkei" style="display:none;"></div>
                    </div>

                    <div class="profile-stats-grid">
                        <div class="stats-divider">Geral</div>
                        <div class="stat-card"><div class="stat-value" id="dash-nivel">1</div><div class="stat-label">Nível</div></div>
                        <div class="stat-card"><div class="stat-value" id="dash-cargo">Genin</div><div class="stat-label">Cargo</div></div>
                        <div class="stat-card"><div class="stat-value" id="dash-tipo">Normal</div><div class="stat-label">Tipo</div></div>
                        <div class="stat-card"><div class="stat-value" id="dash-ryos">0</div><div class="stat-label">Ryos</div></div>
                        <div class="stats-divider">Batalha</div>
                        <div class="stat-card"><div class="stat-value" id="dash-wins">0</div><div class="stat-label">Vitórias</div></div>
                        <div class="stat-card"><div class="stat-value" id="dash-draws">0</div><div class="stat-label">Empates</div></div>
                        <div class="stat-card"><div class="stat-value" id="dash-loses">0</div><div class="stat-label">Derrotas</div></div>
                        <div class="stats-divider">Inventário</div>
                        <div class="stat-card"><div class="stat-value" id="dash-jutsus">0</div><div class="stat-label">Jutsus</div></div>
                        <div class="stat-card"><div class="stat-value" id="dash-tools">0</div><div class="stat-label">Ferramentas</div></div>
                        <div class="stat-card"><div class="stat-value" id="dash-items">0</div><div class="stat-label">Itens</div></div>
                        <div class="stats-divider">Vitalidade</div>
                        <div class="stat-card"><div class="stat-value" id="dash-vida">100</div><div class="stat-label">Vida</div></div>
                        <div class="stat-card"><div class="stat-value" id="dash-sanidade">100</div><div class="stat-label">Sanidade</div></div>
                        <div class="stat-card"><div class="stat-value" id="dash-chakra">100</div><div class="stat-label">Chakra</div></div>
                        <div class="stat-card"><div class="stat-value" id="dash-stamina">100</div><div class="stat-label">Stamina</div></div>
                        <div class="stat-card"><div class="stat-value" id="dash-controle">Baixo</div><div class="stat-label">Controle Chakra</div></div>
                        <div class="stats-divider">Atributos</div>
                        <div class="stat-card"><div class="stat-value" id="dash-forca">10</div><div class="stat-label">Força</div></div>
                        <div class="stat-card"><div class="stat-value" id="dash-defesa">10</div><div class="stat-label">Defesa</div></div>
                        <div class="stat-card"><div class="stat-value" id="dash-constituicao">10</div><div class="stat-label">Constituição</div></div>
                        <div class="stat-card"><div class="stat-value" id="dash-destreza">10</div><div class="stat-label">Destreza</div></div>
                        <div class="stat-card"><div class="stat-value" id="dash-intelecto">10</div><div class="stat-label">Intelecto</div></div>
                        <div class="stat-card"><div class="stat-value" id="dash-agilidade">10</div><div class="stat-label">Agilidade</div></div>
                        <div class="stat-card"><div class="stat-value" id="dash-velocidade">10</div><div class="stat-label">Velocidade</div></div>
                    </div>
                </div>
                
                <div id="historia" class="tab-content">
                    <div class="historia-container">
                        <div class="historia-img-container">
                            <img id="historia-display-img" src="https://img.freepik.com/vetores-gratis/fundo-de-paisagem-de-anime-de-design-plano_23-2149275367.jpg">
                            <button class="btn-edit-historia" onclick="window.editarHistoria()"><i class="fa-solid fa-pen"></i> Editar História</button>
                        </div>
                        <hr class="historia-divider">
                        <div class="historia-text-content" id="historia-display-text">A história do seu ninja aparecerá aqui.</div>
                    </div>
                </div>

                <div id="frases" class="tab-content">
                    <h2>Frases Marcantes</h2>
                    <div class="frase-input-area">
                        <input type="text" id="novaFraseInput" placeholder="Digite uma frase icônica...">
                        <button class="btn-post" onclick="window.adicionarFrase()">Adicionar</button>
                    </div>
                    <div class="frases-list" id="frases-list-container"><p style="color:#777; text-align:center;">Carregando frases...</p></div>
                </div>
            </div>
        </main>
    </div>

    <div class="modal-overlay-comment" id="jutsuModal" style="z-index: 2001;">
        <div class="modal-content-card">
            <span class="close-modal" onclick="fecharJutsuModal()" style="color: #333; top: 10px; right: 15px;">&times;</span>
            <img id="jutsu-img-modal" src="" class="jutsu-modal-img">
            <h2 id="jutsu-name-modal" style="color:var(--primary-color);"></h2>
            <div id="jutsu-rank-modal" class="jutsu-modal-rank"></div>
            <div id="jutsu-stats-row" class="jutsu-stats-row"></div>
            <p id="jutsu-desc-modal" style="margin-top:10px;"></p>
            <div id="jutsu-price-modal" class="jutsu-modal-price"></div>
        </div>
    </div>

    <div class="modal-overlay-comment" id="conquistaModal" style="z-index: 2001;">
        <div class="modal-content-card" style="border-color: #e6b800; max-width: 500px;">
            <span class="close-modal" onclick="fecharConquistaModal()" style="color: #333; top: 10px; right: 15px;">&times;</span>
            <img id="conquista-img-modal" src="" class="jutsu-modal-img" style="border-color:#e6b800; height: 150px;">
            <h2 id="conquista-name-modal" style="color: #e6b800;"></h2>
            <div style="text-align: left; margin-bottom: 20px; max-height: 200px; overflow-y: auto; padding-right: 5px;">
                <p id="conquista-desc-modal" style="color: #555; line-height: 1.6;"></p>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center; border-top: 1px solid #e6b800; padding-top: 15px;">
                <div style="font-weight: bold; color: #2ecc71;">XP: <span id="conquista-xp-modal">0</span> | Ryos: <span id="conquista-reward-modal"></span></div>
                <div id="conquista-actions-modal"></div>
            </div>
        </div>
    </div>
    
    <div class="modal-overlay-comment" id="toolModal" style="z-index: 2001;">
        <div class="modal-content-card" style="border-color: #555;">
            <span class="close-modal" onclick="fecharToolModal()" style="color: #333; top: 10px; right: 15px;">&times;</span>
            <img id="tool-img-modal" src="" class="jutsu-modal-img" style="border-color:#555;">
            <h2 id="tool-name-modal" style="color: #333;"></h2>
            <div id="tool-rank-modal" class="jutsu-modal-rank" style="background-color: #555;"></div>
            <div id="tool-stats-row" class="jutsu-stats-row"></div>
            <p id="tool-desc-modal" style="margin-top:10px;"></p>
            <div id="tool-price-modal" class="jutsu-modal-price" style="border-color:#555; color:#555;"></div>
        </div>
    </div>

    <div class="modal-overlay-comment" id="itemModal" style="z-index: 2001;">
        <div class="modal-content-card" style="border-color: #2ecc71;">
            <span class="close-modal" onclick="fecharItemModal()" style="color: #333; top: 10px; right: 15px;">&times;</span>
            <img id="item-img-modal" src="" class="jutsu-modal-img" style="border-color:#2ecc71;">
            <h2 id="item-name-modal" style="color: #333;"></h2>
            <div id="item-rank-modal" class="jutsu-modal-rank" style="background-color: #2ecc71;"></div>
            <div id="item-stats-row" class="jutsu-stats-row"></div>
            <p id="item-desc-modal" style="margin-top:10px;"></p>
            <div id="item-price-modal" class="jutsu-modal-price" style="border-color:#2ecc71; color:#2ecc71;"></div>
        </div>
    </div>

    <div class="modal-overlay-comment" id="missaoModal" style="z-index: 2001;">
        <div class="modal-content-card" style="border-color: #e6b800; max-width: 500px;">
            <span class="close-modal" onclick="fecharMissaoModal()" style="color: #333; top: 10px; right: 15px;">&times;</span>
            <img id="missao-img-modal" src="" class="jutsu-modal-img" style="border-color:#e6b800; height: 150px;">
            <h2 id="missao-name-modal" style="color: #e6b800;"></h2>
            <div style="text-align: left; margin-bottom: 20px; max-height: 200px; overflow-y: auto; padding-right: 5px;">
                <p id="missao-desc-modal" style="color: #555; line-height: 1.6;"></p>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center; border-top: 1px solid #e6b800; padding-top: 15px;">
                <div style="font-weight: bold; color: #2ecc71;">XP: <span id="missao-xp-modal">0</span> | Ryos: <span id="missao-reward-modal"></span></div>
                <div id="missao-actions-modal"></div>
            </div>
        </div>
    </div>

    <div class="modal-overlay-comment" id="profileModal" style="z-index: 2002;">
        <div class="modal-content-profile">
            <span class="close-modal" onclick="fecharProfileModal()" style="color: white; top: 15px; right: 15px;">&times;</span>
            <div class="profile-header"><div class="profile-avatar-large"><img src="" id="profile-modal-img"></div><h2 id="profile-modal-name" style="color:white;"></h2><p id="profile-modal-char" style="opacity:0.9;"></p></div>
            <div class="profile-body">
                <div class="powers-wrapper">
                    <div class="elementos-container" id="profile-elementos-container" style="display:none;"></div>
                    <div class="elementos-container" id="profile-kekkei-container" style="display:none;"></div>
                </div>
                <div class="profile-section-title">Estatísticas</div>
                <div class="profile-stats-grid" id="other-profile-stats"></div>
            </div>
        </div>
    </div>

    <div class="modal-overlay-comment" id="commentModal"><span class="close-modal" onclick="closeModal()">&times;</span><div class="modal-content-comment"><div class="modal-left" id="modalPostContent"></div><div class="modal-right"><div style="padding: 15px; border-bottom: 1px solid #eee;">Comentários</div><div class="comments-list" id="commentsList"></div><div class="comment-input-area"><input type="text" id="newCommentText" placeholder="Comentar..."><button onclick="submitComment()" style="border:none; background:none; color:var(--primary-color); font-weight:bold;">Enviar</button></div></div></div></div>
    <div class="modal-overlay-comment" id="editProfileModal" style="z-index: 2003;"><div class="modal-content-card"><span class="close-modal" onclick="closeEditProfileModal()" style="color: #333; top: 10px; right: 15px;">&times;</span><h3>Editar Perfil</h3><img id="edit-avatar-preview" src="" style="width:80px; height:80px; border-radius:50%; margin:10px auto; display:block;"><label for="edit-avatar-input" class="btn-post" style="display:block; width: fit-content; margin: 10px auto;">Escolher Foto</label><input type="file" id="edit-avatar-input" hidden accept="image/*" onchange="handleAvatarPreview(event)"><input type="text" id="edit-name-input" class="edit-input" placeholder="Nome do Personagem"><input type="text" id="edit-nick-input" class="edit-input" placeholder="Apelido"><button class="btn-post" onclick="salvarPerfil()" style="width: 100%;">Salvar</button></div></div>
    <div class="modal-overlay-comment" id="changePasswordModal" style="z-index: 2004;"><div class="modal-content-card"><span class="close-modal" onclick="closeChangePasswordModal()" style="color: #333; top: 10px; right: 15px;">&times;</span><h3>Alterar Senha</h3><input type="password" id="new-password" class="edit-input" placeholder="Nova Senha" style="margin-top:20px;"><button class="btn-post" onclick="salvarNovaSenha()" style="width: 100%;">Atualizar Senha</button></div></div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, onAuthStateChanged, signOut, updatePassword } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc, collection, getDocs, updateDoc, arrayUnion, arrayRemove, deleteDoc, increment, addDoc, serverTimestamp, query, orderBy, onSnapshot } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = { apiKey: "AIzaSyC3HOor32_p5Z-iADm0VgZ279rt1kj8ICg", authDomain: "rpg-naruto-5150a.firebaseapp.com", projectId: "rpg-naruto-5150a", storageBucket: "rpg-naruto-5150a.firebasestorage.app", messagingSenderId: "1007094335306", appId: "1:1007094335306:web:ac96fa96f9494f90fd63b3" };
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // CONFIGURAÇÃO DA PROMOÇÃO (TRUE = LIGADO, FALSE = DESLIGADO)
        const EM_PROMOCAO = true; 

        let currentUserData = null;
        let currentImageBase64 = null;
        let currentOpenPostId = null;
        let newAvatarBase64 = null;
        let globalXpTable = [];
        let vilaAtual = "Konoha";
        let lojaAtual = "geral";
        let globalItensMap = {}; 

        // CONFIGURAÇÃO DE LEVEL
        function getXpNecessario(nivel) {
            if(globalXpTable.length > 0 && nivel <= globalXpTable.length) {
                return globalXpTable[nivel - 1]; 
            }
            return 300; 
        }

        const ELEMENTOS_ICONS = {
            "fogo": "data:image/jpeg;base64,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",
            "agua": "data:image/jpeg;base64,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",
            "vento": "https://nrpgshinobi-konohagakure.weebly.com/uploads/1/6/0/4/16044106/819689103.png?193",
            "terra": "data:image/jpeg;base64,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",
            "raio": "data:image/jpeg;base64,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",
            "yin": "data:image/jpeg;base64,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",
            "yang": "data:image/png;base64,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"// Placeholder
        };
        const KEKKEI_ICONS = {
            "sharingan": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQsaFL3vRwLEqONbFnsr_tskXDVuf9C7F03HQ&s",
            "byakugan": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR8dibOxYWvh_iAG7J4BJ6u1ziT2vSb0PpWdg&s",
            "mokuton": "https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/e8ddc4da-23dd-4502-b65b-378c9cfe5efa/dfgf9nz-2e0b4300-7506-42a7-8a0a-a51889a1765b.png/v1/fill/w_1280,h_1280/mokuton_icon_by_jormxdos_dfgf9nz-fullview.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MTI4MCIsInBhdGgiOiIvZi9lOGRkYzRkYS0yM2RkLTQ1MDItYjY1Yi0zNzhjOWNmZTVlZmEvZGZnZjluei0yZTBiNDMwMC03NTA2LTQyYTctOGEwYS1hNTE4ODlhMTc2NWIucG5nIiwid2lkdGgiOiI8PTEyODAifV1dLCJhdWQiOlsidXJuOnNlcnZpY2U6aW1hZ2Uub3BlcmF0aW9ucyJdfQ.vjoEnWKes_DCAKclnfYppjrBjFn2sAFnzInsUdg2Fis",
            "veia_ossea": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRsbqzRS3LkfOJ69ZZvImlM2938cP4HHL3EzQ&s"
        };
        const IMG_PADRAO = "https://img.freepik.com/vetores-gratis/ilustracao-de-pergaminho-ninja-desenhada-a-mao_23-2151159846.jpg";

        function calcularTempo(timestamp) { try { if (!timestamp) return "Desconhecido"; let date = (typeof timestamp.toDate === 'function') ? timestamp.toDate() : new Date(timestamp); if (isNaN(date.getTime())) return "-"; return date.toLocaleDateString('pt-BR'); } catch (e) { return "-"; } }

        window.toggleMobileMenu = () => { document.querySelector('.sidebar').classList.toggle('mobile-active'); document.querySelector('.sidebar-overlay').classList.toggle('active'); };
        const btnLogin = document.getElementById('btnLogin');
        if(btnLogin) btnLogin.addEventListener('click', () => { const e = document.getElementById('emailInput').value, s = document.getElementById('passwordInput').value; if(!e || !s) return alert("Preencha tudo!"); btnLogin.innerText = "Carregando..."; signInWithEmailAndPassword(auth, e, s).catch((err) => { btnLogin.innerText = "Entrar"; alert(err.message); }); });
        const passInput = document.getElementById('passwordInput');
        if (passInput) passInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') document.getElementById('btnLogin').click(); });

        onAuthStateChanged(auth, async (user) => {
            if (user) {
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('app-container').style.display = 'flex';
                if(user.email === "admin@rpgnaruto.com") document.getElementById('btn-admin-panel').style.display = 'flex';
                await carregarConfiguracoes();
                await carregarCacheItens();
                
                const docRef = doc(db, "users", user.uid);
                onSnapshot(docRef, (docSnap) => {
                    if (docSnap.exists()) {
                        currentUserData = docSnap.data();
                        if(!currentUserData.inventario) currentUserData.inventario = {};
                        if(!currentUserData.meusJutsus) currentUserData.meusJutsus = [];
                        if(!currentUserData.statusConquistas) currentUserData.statusConquistas = {};
                        
                        verificarLevelUpAutomatico(currentUserData);
                        atualizarInterface(currentUserData);
                        renderizarBatalha(); 
                    }
                });
                
                const initialSnap = await getDoc(docRef);
                if(initialSnap.exists()){ 
                    currentUserData = initialSnap.data(); 
                    carregarTudo(); 
                }
                else {
                    const dadosPadrao = { nome: "Novo Ninja", ryos: 100, xp: 0, nivel: 1, email: user.email, meusJutsus: [], inventario: {}, statusMissoes: {}, statusConquistas: {}, elementos: [], kekkei_genkai: [], essencia_ninja: 0 };
                    await setDoc(docRef, dadosPadrao);
                    currentUserData = dadosPadrao;
                    atualizarInterface(dadosPadrao);
                    carregarTudo();
                }
                setTimeout(() => { try { window.renderFeed('all'); } catch(e) {} }, 800); 
                renderizarBatalha();

            } else {
                document.getElementById('login-screen').style.display = 'flex';
                document.getElementById('app-container').style.display = 'none';
            }
        });

        // --- SISTEMA DE ABAS ---
        window.showTab = (t) => {
            try {
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                const target = document.getElementById(t);
                if(target) target.classList.add('active');

                document.querySelectorAll('.top-btn').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.sidebar button').forEach(b => b.classList.remove('active'));
                const btnTop = document.getElementById('nav-btn-'+t);
                const btnSide = document.getElementById('side-btn-'+t);
                if(btnTop) btnTop.classList.add('active');
                if(btnSide) btnSide.classList.add('active');

                if(currentUserData) {
                    if(t==='personagens') carregarPersonagens();
                    if(t==='frases') carregarFrases();
                    if(t==='inventario') carregarInventario();
                    if(t==='jutsus') carregarMeusJutsus(currentUserData.meusJutsus); 
                    if(t==='conquistas') carregarConquistas();
                    if(t==='missoes') carregarMissoes();
                    if(t==='rankings') carregarRankings();
                }
                
                if(window.innerWidth <= 768) window.toggleMobileMenu();
            } catch (e) {
                console.error("Erro ao trocar aba:", e);
            }
        };

        // --- LEVEL UP ---
        async function verificarLevelUpAutomatico(dados) {
            let xpAtual = dados.xp || 0;
            let nivelAtual = dados.nivel || 1;
            let xpNecessario = getXpNecessario(nivelAtual);
            
            if (xpAtual >= xpNecessario) {
                let novoXp = xpAtual - xpNecessario; 
                let novoNivel = nivelAtual + 1;
                
                await updateDoc(doc(db, "users", auth.currentUser.uid), { 
                    nivel: novoNivel,
                    xp: novoXp 
                });
                alert(`Level Up! Nível ${novoNivel}!`);
            }
        }

        async function carregarConfiguracoes() { try { const s = await getDoc(doc(db, "game_config", "sistema_nivel")); if(s.exists()) globalXpTable = s.data().tabela_xp || []; } catch(e) {} }
        async function carregarCacheItens() {
            try {
                const s1 = await getDocs(collection(db, "itens")); s1.forEach(d => globalItensMap[d.id] = { ...d.data(), type: 'item' });
                const s2 = await getDocs(collection(db, "ferramentas")); s2.forEach(d => globalItensMap[d.id] = { ...d.data(), type: 'tool' });
            } catch(e) {}
        }

        function carregarTudo() {
            try { carregarLoja(); } catch(e){}
            try { carregarMeusJutsus(currentUserData.meusJutsus); } catch(e){}
            try { carregarLojaFerramentas(); } catch(e){}
            try { carregarLojaItens(); } catch(e){}
            try { carregarInventario(); } catch(e){}
            try { carregarMissoes(); } catch(e){}
            try { carregarConquistas(); } catch(e){}
            try { carregarRankings(); } catch(e){}
            try { carregarFrases(); } catch(e){}
            if(auth.currentUser.email === "admin@rpgnaruto.com") carregarPainelAdmin();
        }

        function formatarNum(v) { return Number(v||0).toLocaleString('pt-BR'); }

        function aplicarEscalaPersonalizada(dadosJutsu) {
            if (!dadosJutsu) return {}; 
            let dadosFinais = { ...dadosJutsu };
            try {
                if (!auth.currentUser) return dadosFinais;
                const uid = auth.currentUser.uid;
                if (dadosFinais.escalonamento && typeof dadosFinais.escalonamento === 'object') {
                    const p = dadosFinais.escalonamento[uid];
                    if (p) {
                        if (p.chakra !== undefined) dadosFinais.chakra = p.chakra;
                        if (p.stamina !== undefined) dadosFinais.stamina = p.stamina;
                        if (p.dano !== undefined) dadosFinais.dano = p.dano;
                        if (p.descricao !== undefined) dadosFinais.descricao = p.descricao;
                    }
                }
            } catch (err) { return dadosJutsu; }
            return dadosFinais;
        }

        function renderizarIcones(lista, containerId, mapaIcones, titulo) {
            const container = document.getElementById(containerId); if (!container) return;
            container.innerHTML = `<div class="elementos-title">${titulo}</div><div class="elementos-list"></div>`;
            const listDiv = container.querySelector('.elementos-list');
            if (!lista || lista.length === 0) { container.style.display = 'none'; return; }
            container.style.display = 'block';
            lista.forEach(elem => {
                const iconUrl = mapaIcones[elem.trim().toLowerCase()];
                if (iconUrl) { const img = document.createElement('img'); img.src = iconUrl; img.className = 'element-icon'; img.title = elem; listDiv.appendChild(img); }
            });
        }

        function atualizarInterface(dados) {
            document.querySelector('.user-info').innerText = dados.apelido || dados.nome || "Ninja";
            document.getElementById('ryos-text').innerText = formatarNum(dados.ryos);
            document.getElementById('en-text').innerText = formatarNum(dados.essencia_ninja || 0);

            if(dados.avatar) document.getElementById('header-avatar').src = dados.avatar;
            if(dados.historiaTexto) document.getElementById('historia-display-text').innerText = dados.historiaTexto;
            if(dados.historiaImagem) document.getElementById('historia-display-img').src = dados.historiaImagem;

            const nivel = dados.nivel || 1;
            const xpAtual = dados.xp || 0;
            const xpMeta = getXpNecessario(nivel);

            const porcentagem = Math.min((xpAtual / xpMeta) * 100, 100);

            document.getElementById('level-display').innerText = "Nível " + nivel;
            document.getElementById('xp-text-display').innerText = `${xpAtual} / ${xpMeta} XP`;
            document.getElementById('xp-bar').style.width = porcentagem + "%";

            renderizarIcones(dados.elementos || [], 'dash-elementos', ELEMENTOS_ICONS, 'Naturezas de Chakra');
            renderizarIcones(dados.kekkei_genkai || [], 'dash-kekkei', KEKKEI_ICONS, 'Kekkei Genkai');

            const set = (id, val) => { const el = document.getElementById(id); if(el) el.innerText = val; };
            set('dash-nivel', nivel); set('dash-cargo', dados.cargo||"Genin"); set('dash-tipo', dados.tipo||"Normal"); set('dash-ryos', formatarNum(dados.ryos));
            set('dash-jutsus', (dados.meusJutsus || []).length); 
            
            let totalItems = 0, totalTools = 0;
            if(dados.inventario) { for(let id in dados.inventario) { if(globalItensMap[id]) { if(globalItensMap[id].type === 'tool') totalTools += dados.inventario[id]; else totalItems += dados.inventario[id]; } } }
            set('dash-tools', totalTools); set('dash-items', totalItems);

            set('dash-wins', dados.vitorias||0); set('dash-loses', dados.derrotas||0); set('dash-draws', dados.empates||0);
            set('dash-vida', dados.vida||100); set('dash-sanidade', dados.sanidade||100);
            set('dash-chakra', dados.chakra||100); set('dash-stamina', dados.stamina||100); set('dash-controle', dados.controle_chakra||"Baixo");
            set('dash-forca', dados.forca||10); set('dash-defesa', dados.defesa||10); set('dash-constituicao', dados.constituicao||10);
            set('dash-destreza', dados.destreza||10); set('dash-intelecto', dados.intelecto||10); set('dash-agilidade', dados.agilidade||10); set('dash-velocidade', dados.velocidade||10);
        }

        function renderizarBatalha() {
            const grid = document.getElementById('battle-grid'); if(!grid) return;
            onSnapshot(collection(db, "users"), (snapshot) => {
                grid.innerHTML = '';
                if(snapshot.empty) { grid.innerHTML = '<p>Sem ninjas.</p>'; return; }
                snapshot.forEach(docSnap => {
                    const u = docSnap.data(); const uid = docSnap.id;
                    
                    const card = document.createElement('div'); card.className = 'battle-card';
                    card.innerHTML = `
                        <div class="battle-header-info">
                            <img src="${u.avatar || IMG_PADRAO}" class="battle-avatar">
                            <div>
                                <div class="battle-name">${u.nome || "Ninja"}</div>
                                <div class="battle-char">${u.apelido || "Sem Apelido"} - Nvl ${u.nivel || 1}</div>
                            </div>
                        </div>
                        <div class="battle-stats-wrapper">
                            ${criarLinhaStatusCustom(uid, 'vida', 'Vida', 'HP', u.vida||0, u.max_vida||100, 'bar-life')}
                            ${criarLinhaStatusCustom(uid, 'sanidade', 'Sanidade', 'SAN', u.sanidade||0, u.max_sanidade||100, 'bar-sanidade')}
                            ${criarLinhaStatusCustom(uid, 'stamina', 'Stamina', 'STA', u.stamina||0, u.max_stamina||100, 'bar-stamina')}
                            ${criarLinhaStatusCustom(uid, 'chakra', 'Chakra', 'CHK', u.chakra||0, u.max_chakra||100, 'bar-chakra')}
                        </div>`;
                    grid.appendChild(card);
                });
            });
        }

        function criarLinhaStatusCustom(uid, f, l, a, v, m, c) { 
            const p=Math.min((v/m)*100,100); 
            return `
            <div class="battle-row">
                <div class="battle-row-header"><span>${l}</span><span>${a}</span></div>
                <div class="battle-controls">
                    <div class="battle-actions-row"><div class="battle-mini-btn" onclick="alterarStatus('${uid}','${f}',-5)">-5</div><div class="battle-mini-btn" onclick="alterarStatus('${uid}','${f}',-1)">-1</div></div>
                    <span class="battle-val">${v} / <span style="cursor:pointer; border-bottom:1px dotted #ccc;" onclick="editarMaximo('${uid}', 'max_${f}')">${m}</span></span>
                    <div class="battle-actions-row"><div class="battle-mini-btn" onclick="alterarStatus('${uid}','${f}',1)">+1</div><div class="battle-mini-btn" onclick="alterarStatus('${uid}','${f}',5)">+5</div></div>
                </div>
                <div class="battle-bar-bg"><div class="battle-bar-fill ${c}" style="width:${p}%;"></div><div class="battle-bar-text">${p.toFixed(0)}%</div></div>
            </div>`; 
        }

        window.editarMaximo = async (uid, field) => {
            const novo = prompt("Novo valor máximo:");
            if(novo && !isNaN(novo)) {
                await updateDoc(doc(db, "users", uid), { [field]: parseInt(novo) });
            }
        };

        window.alterarStatus = async (targetUid, stat, valor) => { await updateDoc(doc(db, "users", targetUid), { [stat]: increment(valor) }); };

        // --- HELPER BÔNUS ---
        function gerarTagsBonus(d) {
            let html = '';
            if(d.bonus_hp) html += `<span class="stat-tag tag-buff">+${d.bonus_hp} HP</span>`;
            if(d.bonus_stamina) html += `<span class="stat-tag tag-stamina">+${d.bonus_stamina} STA</span>`;
            if(d.bonus_chakra) html += `<span class="stat-tag tag-chakra">+${d.bonus_chakra} CHK</span>`;
            if(d.bonus_forca) html += `<span class="stat-tag tag-attr">+${d.bonus_forca} FOR</span>`;
            if(d.bonus_defesa) html += `<span class="stat-tag tag-attr">+${d.bonus_defesa} DEF</span>`;
            if(d.bonus_agilidade) html += `<span class="stat-tag tag-attr">+${d.bonus_agilidade} AGI</span>`;
            if(d.bonus_velocidade) html += `<span class="stat-tag tag-attr">+${d.bonus_velocidade} VEL</span>`;
            if(d.bonus_intelecto) html += `<span class="stat-tag tag-attr">+${d.bonus_intelecto} INT</span>`;
            if(d.bonus_constituicao) html += `<span class="stat-tag tag-attr">+${d.bonus_constituicao} CON</span>`;
            if(d.bonus_destreza) html += `<span class="stat-tag tag-attr">+${d.bonus_destreza} DES</span>`;
            return html;
        }

        // --- CORE FUNCTIONS ---
        function criarCard(containerId, dados, id, tipo, clickFn, qtd = null) {
            const c = document.getElementById(containerId); if(!c) return;
            const div = document.createElement('div'); div.className = 'card'; div.onclick = () => clickFn(id, dados);
            let sub = "", extra = "";
            if(tipo === 'jutsu') { sub = "Rank " + dados.rank; const m = (currentUserData.maestrias && currentUserData.maestrias[id]) ? currentUserData.maestrias[id] : 0; extra = `<span class="maestria-display">Maestria: ${m}</span>`; } 
            else if(tipo === 'ferramenta') sub = dados.dano || "Ferramenta"; else sub = dados.efeito || "Item";
            if(qtd !== null) extra += `<div class="inventory-controls"><span class="qtd-badge">x${qtd}</span><button class="btn-minus" onclick="consumirItem('${id}', '${dados.nome}'); event.stopPropagation();">-</button></div>`;
            div.innerHTML = `<img src="${dados.imagem||IMG_PADRAO}" class="card-img-top"><h4>${dados.nome}</h4><small>${sub}</small>${extra}`;
            c.appendChild(div);
        }
        function criarCardLoja(containerId, dados, id, tipo, buyFn, clickFn) {
            const c = document.getElementById(containerId); if(!c) return;
            const div = document.createElement('div'); div.className = 'card'; div.onclick = (e) => { if(!e.target.classList.contains('buy-btn') && !e.target.classList.contains('qtd-input-square')) clickFn(id, dados); };
            let sub = "", buyControlHTML = "", priceHTML = "";

            // Lógica de Preço Promocional (Firebase Field)
            const currency = dados.preco_en ? 'EN' : 'Ryos';
            let finalPrice = currency === 'EN' ? dados.preco_en : dados.preco;
            
            if (currency === 'Ryos' && dados.preco_promocional && dados.preco_promocional < dados.preco) {
                finalPrice = dados.preco_promocional;
                priceHTML = `<p id="price-${id}" class="price-tag">
                    <span style="text-decoration:line-through; color:#999; font-size:0.85em; margin-right:5px;">${formatarNum(dados.preco)}</span>
                    <span style="color:var(--primary-color); font-weight:bold;">${formatarNum(finalPrice)} Ryos</span>
                </p>`;
            } else {
                const colorClass = currency === 'EN' ? 'en-price' : '';
                priceHTML = `<p id="price-${id}" class="price-tag ${colorClass}">${formatarNum(finalPrice)} ${currency}</p>`;
            }

            if(tipo === 'jutsu') sub = "Rank " + dados.rank; else if(tipo === 'ferramenta') sub = dados.dano || "Ferramenta"; else sub = dados.efeito || "Item";
            
            const bonusTags = gerarTagsBonus(dados);

            let isOwned = (tipo === 'jutsu' && currentUserData.meusJutsus && currentUserData.meusJutsus.includes(id));
            const btnClass = currency === 'EN' ? 'buy-btn en-btn' : 'buy-btn';

            if(tipo !== 'jutsu') { 
                buyControlHTML = `<div class="qtd-container-square"><input type="number" id="qtd-${id}" class="qtd-input-square" value="1" min="1" onclick="event.stopPropagation()"></div><button id="btn-buy-${id}" class="${btnClass}" onclick="event.stopPropagation(); comprarMultiplos('${id}', ${finalPrice}, '${dados.nome}', '${tipo}', 'qtd-${id}', '${currency}')">Comprar x1</button>`; 
            } else { 
                buyControlHTML = isOwned ? `<button class="buy-btn" disabled>Adquirido</button>` : `<button class="${btnClass}" onclick="event.stopPropagation(); comprarJutsu('${id}', ${finalPrice}, '${dados.nome}', '${currency}')">Comprar</button>`; 
            }
            
            div.innerHTML = `<img src="${dados.imagem||IMG_PADRAO}" class="card-img-top"><h4>${dados.nome}</h4><small>${sub}</small><div class="stats-row">${bonusTags}</div>${priceHTML}${buyControlHTML}`;
            c.appendChild(div);
            
            if(tipo !== 'jutsu') { 
                const inp = document.getElementById(`qtd-${id}`); 
                inp.addEventListener('input', (e) => { 
                    let q = parseInt(e.target.value)||1; 
                    document.getElementById(`btn-buy-${id}`).innerText = `Comprar x${q}`; 
                    if (currency === 'Ryos' && dados.preco_promocional && dados.preco_promocional < dados.preco) {
                         document.getElementById(`price-${id}`).innerHTML = `<span style="text-decoration:line-through; color:#999; font-size:0.85em; margin-right:5px;">${formatarNum(dados.preco * q)}</span><span style="color:var(--primary-color); font-weight:bold;">${formatarNum(finalPrice * q)} Ryos</span>`;
                    } else {
                        document.getElementById(`price-${id}`).innerText = `${formatarNum(finalPrice * q)} ${currency}`; 
                    }
                }); 
            }
        }

        async function carregarLoja() {
            try {
                const c = document.getElementById('loja-jutsus-grid'); if(!c) return; c.innerHTML = '';
                const m = currentUserData.meusJutsus || []; const isAdmin = auth.currentUser.email === "admin@rpgnaruto.com";
                const snap = await getDocs(collection(db, "jutsus"));
                snap.forEach(d => { try { let i = d.data(); i = aplicarEscalaPersonalizada(i); const p = i.restrito_a || []; if(!isAdmin && p.length > 0 && !p.includes(currentUserData.nome || "")) return; criarCardLoja('loja-jutsus-grid', i, d.id, 'jutsu', null, (id, i) => verDetalhesJutsu(id, i)); } catch(e){} });
            } catch(e) {}
        }
        async function carregarMeusJutsus(l) {
            const c = document.getElementById('meus-jutsus-grid'); if(!c) return; c.innerHTML = ''; l = (l || []).filter(id => id); 
            if(l.length === 0) { c.innerHTML = '<p>Nenhum jutsu aprendido.</p>'; return; }
            const promises = l.map(async (id) => { try { const s = await getDoc(doc(db, "jutsus", id)); if(s.exists()) { let data = s.data(); try { data = aplicarEscalaPersonalizada(data); } catch(e){} return { id, data }; } } catch(e) { return null; } });
            const resultados = await Promise.allSettled(promises);
            resultados.forEach(res => { if(res.status === 'fulfilled' && res.value) criarCard('meus-jutsus-grid', res.value.data, res.value.id, 'jutsu', (id, i) => verDetalhesJutsu(id, i)); });
        }
        async function carregarLojaFerramentas() { const c = document.getElementById('loja-ferramentas-grid'); if(!c) return; c.innerHTML = ''; const s = await getDocs(collection(db, "ferramentas")); s.forEach(d => criarCardLoja('loja-ferramentas-grid', d.data(), d.id, 'ferramenta', null, (id, i) => verDetalhesFerramenta(id, i))); }
        async function carregarLojaItens() {
            const c = document.getElementById('loja-itens-grid'); if(!c) return; c.innerHTML = '';
            const s = await getDocs(collection(db, "itens"));
            s.forEach(d => { const i = d.data(); let ok=false; if(!i.vila || i.vila==='Global') ok=true; else if(Array.isArray(i.vila)){if(i.vila.includes(vilaAtual)||i.vila.includes('Global')) ok=true;} else if(i.vila===vilaAtual) ok=true; if(i.tipo!==lojaAtual) return; if(ok) criarCardLoja('loja-itens-grid', i, d.id, 'item', null, (id, i) => verDetalhesItem(id, i)); });
        }
        async function carregarInventario() {
            const c = document.getElementById('inventario-grid'); if(!c) return; c.innerHTML = '';
            const inv = currentUserData.inventario || {}; const keys = Object.keys(inv).filter(k => inv[k] > 0);
            if(keys.length === 0) { c.innerHTML = '<p>Mochila vazia.</p>'; return; }
            for (const id of keys) {
                let info = globalItensMap[id];
                if (!info) {
                    try {
                        const s1 = await getDoc(doc(db, "itens", id));
                        if(s1.exists()) { info = {...s1.data(), type: 'item'}; globalItensMap[id] = info; }
                        else {
                            const s2 = await getDoc(doc(db, "ferramentas", id));
                            if(s2.exists()) { info = {...s2.data(), type: 'tool'}; globalItensMap[id] = info; }
                        }
                    } catch(e){}
                }
                if(info) {
                    criarCard('inventario-grid', info, id, info.type, (id, d) => {
                       if(info.type === 'tool') verDetalhesFerramenta(id, d); else verDetalhesItem(id, d);
                    }, inv[id]);
                }
            }
        }
        
        async function carregarPersonagens() {
            const c = document.getElementById('directory-grid'); if(!c) return;
            c.innerHTML = '<p>Carregando...</p>';
            try {
                const s = await getDocs(collection(db, "users"));
                c.innerHTML = '';
                s.forEach(d => { const u = d.data(); const k = document.createElement('div'); k.className = 'card'; k.onclick = () => window.verPerfil(d.id); k.innerHTML = `<div style="width:60px; height:60px; border-radius:50%; overflow:hidden; margin:0 auto 10px;"><img src="${u.avatar||IMG_PADRAO}" style="width:100%; height:100%; object-fit:cover;"></div><h4>${u.nome}</h4><p>${u.apelido||""}</p>`; c.appendChild(k); });
            } catch(e){ c.innerHTML='<p>Erro ao carregar.</p>'; }
        }

        window.consumirItem = async (id, nome) => { if(confirm(`Usar 1x ${nome}?`)) await updateDoc(doc(db, "users", auth.currentUser.uid), { [`inventario.${id}`]: increment(-1) }); };
        
        window.comprarJutsu = async (id, p, n, currency) => { 
            const field = currency === 'EN' ? 'essencia_ninja' : 'ryos';
            if(!confirm(`Comprar ${n} por ${p} ${currency}?`)) return; 
            if((currentUserData[field]||0) < p) return alert(`Sem ${currency} suficiente!`); 
            
            await updateDoc(doc(db, "users", auth.currentUser.uid), { 
                [field]: increment(-p), 
                meusJutsus: arrayUnion(id), 
                [`maestrias.${id}`]: 0 
            }); 
            alert("Comprado!"); 
        };
        
        window.comprarMultiplos = async (id, p, n, t, i, currency) => { 
            const q = parseInt(document.getElementById(i).value)||1; 
            if(q<1) return; 
            const tot=p*q; 
            const field = currency === 'EN' ? 'essencia_ninja' : 'ryos';
            
            if(!confirm(`Comprar ${q}x ${n} por ${tot} ${currency}?`)) return; 
            if((currentUserData[field]||0) < tot) return alert(`Sem ${currency} suficiente!`); 
            
            await updateDoc(doc(db, "users", auth.currentUser.uid), { 
                [field]: increment(-tot), 
                [`inventario.${id}`]: increment(q) 
            }); 
            alert("Comprado!"); 
        };
        
        window.filtrarLojaPorTipo = (t, b) => { 
            lojaAtual = t; 
            document.querySelectorAll('.shop-cat-btn').forEach(x => x.classList.remove('active')); 
            if(b) b.classList.add('active'); 
            carregarLojaItens(); 
        };
        window.atualizarFiltroVila = () => { vilaAtual = document.getElementById('shop-location').value; carregarLojaItens(); };

        // --- CONQUISTAS ---
        async function carregarConquistas() {
            const c = document.getElementById('conquistas-grid'); if(!c) return;
            const m = currentUserData.statusConquistas || {};
            const s = await getDocs(collection(db, "conquistas"));
            c.innerHTML = '';
            if(s.empty) { c.innerHTML = '<p>Nenhuma conquista.</p>'; return; }
            const isAdmin = auth.currentUser.email === "admin@rpgnaruto.com";

            s.forEach(d => {
                const i = d.data();
                const p = i.restrito_a || [];
                if (!isAdmin && p.length > 0 && !p.includes(currentUserData.nome)) return;

                const st = m[d.id];
                const k = document.createElement('div'); k.className = 'card jutsu-card-click';
                let btn = "";
                if(!st) btn = `<button class="mission-btn-start" onclick="event.stopPropagation(); solicitarConquista('${d.id}', this)">Reivindicar</button>`;
                else if(st === 'solicitado') btn = `<button class="mission-btn-wait" onclick="event.stopPropagation();">Aguardando Kage</button>`;
                else if(st === 'aprovado') btn = `<button class="mission-btn-collect" onclick="event.stopPropagation(); coletarConquista('${d.id}', ${i.recompensa||0}, ${i.xp||0}, this)">Coletar</button>`;
                else if(st === 'concluido') btn = `<button class="mission-btn-done" onclick="event.stopPropagation();">Concluído</button>`;
                
                let stTxt = !st ? "Disponível" : (st==='solicitado' ? "Pendente" : (st==='aprovado' ? "Aprovado!" : "Concluído"));
                k.onclick = () => verDetalhesConquista(d.id, i, st);
                k.innerHTML = `<img src="${i.imagem||IMG_PADRAO}" class="card-img-top"><h4>${i.titulo}</h4><p style="font-weight:bold; color:#777;">${stTxt}</p>${btn}`;
                c.appendChild(k);
            });
        }
        window.verDetalhesConquista = (id, d, st) => {
            document.getElementById('conquista-name-modal').innerText = d.titulo; document.getElementById('conquista-desc-modal').innerText = d.descricao; document.getElementById('conquista-reward-modal').innerText = formatarNum(d.recompensa); document.getElementById('conquista-xp-modal').innerText = d.xp||0; document.getElementById('conquista-img-modal').src = d.imagem||IMG_PADRAO;
            const a = document.getElementById('conquista-actions-modal'); a.innerHTML = '';
            if(!st) a.innerHTML = `<button class="mission-btn-start" onclick="solicitarConquista('${id}', this)">Reivindicar</button>`;
            else if(st === 'solicitado') a.innerHTML = `<button class="mission-btn-wait">Aguardando</button>`;
            else if(st === 'aprovado') a.innerHTML = `<button class="mission-btn-collect" onclick="coletarConquista('${id}',${d.recompensa},${d.xp}, this)">Coletar</button>`;
            else a.innerHTML = `<button class="mission-btn-done">Feito</button>`;
            document.getElementById('conquistaModal').style.display='flex';
        };
        window.fecharConquistaModal = () => document.getElementById('conquistaModal').style.display='none';
        
        window.solicitarConquista = async (id, btn) => {
            if(btn) { btn.disabled = true; btn.innerText = "Enviando..."; }
            await updateDoc(doc(db, "users", auth.currentUser.uid), { [`statusConquistas.${id}`]: 'solicitado' });
            alert("Solicitado!");
        };
        
        window.coletarConquista = async (id, r, x, btn) => {
            if(btn) { btn.disabled = true; btn.innerText = "Coletando..."; }
            const u = currentUserData;
            await updateDoc(doc(db, "users", auth.currentUser.uid), { 
                ryos: (u.ryos||0)+r, 
                xp: (u.xp||0)+x, 
                [`statusConquistas.${id}`]: 'concluido' 
            });
            alert("Recebido!");
        };

        // --- MISSOES ---
        async function carregarMissoes() { const c = document.getElementById('missoes-grid'); if(!c) return; const m = currentUserData.statusMissoes || {}; const s = await getDocs(collection(db, "missoes")); c.innerHTML = ''; s.forEach(d => { const i = d.data(), st = m[d.id] || 'neutro'; const k = document.createElement('div'); k.className = 'card jutsu-card-click'; 
        
        const rankClass = `rank-${(i.rank||'d').toLowerCase()}`;
        const rankHtml = `<span class="rank-tag ${rankClass}">Rank ${i.rank||'D'}</span>`;

        k.onclick = () => verDetalhesMissao(d.id, i, st); 
        k.innerHTML=`${rankHtml}<h4>${i.titulo}</h4><p style="font-size:0.9rem; color:${st==='em_andamento'?'orange':st==='aprovado'?'green':'#777'}; font-weight:bold;">${st==='neutro'?'Disponível':st}</p><small style="color:var(--primary-color)">${i.xp||0} XP | ${formatarNum(i.recompensa)} Ryos</small>`; c.appendChild(k); }); }
        
        window.verDetalhesMissao = (id, d, st) => { 
            document.getElementById('missao-name-modal').innerText = d.titulo; 
            document.getElementById('missao-desc-modal').innerText = d.descricao; 
            document.getElementById('missao-reward-modal').innerText = formatarNum(d.recompensa); 
            document.getElementById('missao-xp-modal').innerText = d.xp||0; 
            document.getElementById('missao-img-modal').src = d.imagem||IMG_PADRAO; 
            
            const a = document.getElementById('missao-actions-modal'); a.innerHTML = ''; 
            
            if(st==='neutro') a.innerHTML = `<button class="mission-btn-start" onclick="iniciarMissao('${id}', this)">Aceitar</button>`; 
            else if(st==='aprovado') a.innerHTML = `<button class="mission-btn-collect" onclick="coletarRecompensa('${id}',${d.recompensa},${d.xp||0}, '${d.rank||'D'}', this)">Receber</button>`; 
            
            document.getElementById('missaoModal').style.display='flex'; 
        };
        window.fecharMissaoModal = () => document.getElementById('missaoModal').style.display='none';
        
        window.iniciarMissao = async (id, btn) => { 
            if(btn) { btn.disabled = true; btn.innerText = "Iniciando..."; }
            await updateDoc(doc(db, "users", auth.currentUser.uid), { [`statusMissoes.${id}`]: 'em_andamento' }); 
            alert("Iniciada!"); 
        };
        
        window.coletarRecompensa = async (id, r, x, rank, btn) => { 
            if(btn && btn.disabled) return;
            if(btn) { btn.disabled = true; btn.innerText = "Coletando..."; }
            
            const u = currentUserData;
            const rankKey = `missoes_concluidas_${rank.toLowerCase()}`;
            
            await updateDoc(doc(db, "users", auth.currentUser.uid), { 
                ryos: (u.ryos||0)+r, 
                xp: (u.xp||0)+x, 
                [`statusMissoes.${id}`]: 'concluido',
                [rankKey]: increment(1) 
            }); 
            alert("Coletado!"); 
        };

        // --- FUNÇÕES DE MODAL GENÉRICAS ---
        function abrirModalSimples(t, d) {
            let dados = d; if(t === 'jutsu') { try { dados = aplicarEscalaPersonalizada(d); } catch(e){} }
            document.getElementById(t+'-name-modal').innerText = dados.nome; 
            document.getElementById(t+'-desc-modal').innerText = dados.descricao||""; 
            document.getElementById(t+'-price-modal').innerText = "Valor: "+formatarNum(dados.preco)+" Ryos";
            document.getElementById(t+'-img-modal').src = dados.imagem||IMG_PADRAO;
            
            // Exibir Bônus (Jutsus podem ter bônus agora também)
            let bonusHtml = gerarTagsBonus(dados);
            
            if(t==='jutsu'){ 
                document.getElementById(t+'-rank-modal').innerText="Rank "+dados.rank; 
                let h=""; 
                if(dados.dano) h+=`<span class="jutsu-stat-tag tag-dano">Dano: ${dados.dano}</span>`; 
                if(dados.chakra) h+=`<span class="jutsu-stat-tag tag-chakra">Chakra: ${dados.chakra}</span>`; 
                if(dados.stamina) h+=`<span class="jutsu-stat-tag tag-stamina">Stamina: ${dados.stamina}</span>`; 
                if(dados.bonus) h+=`<span class="jutsu-stat-tag tag-buff">${dados.bonus}</span>`; // Campo Texto
                
                // Adiciona os bônus numéricos também, se houver
                h += bonusHtml; 
                
                document.getElementById('jutsu-stats-row').innerHTML=h; 
            } else {
                document.getElementById(t==='tool'?'tool-stats-row':'item-stats-row').innerHTML = bonusHtml;
            }
            
            if(t==='tool') document.getElementById(t+'-rank-modal').innerText = dados.dano||"Ferramenta";
            if(t==='item') document.getElementById(t+'-rank-modal').innerText = dados.efeito||"Item";
            document.getElementById(t+'Modal').style.display='flex';
        }

        window.verDetalhesJutsu = (id,d) => abrirModalSimples('jutsu',d); 
        window.verDetalhesFerramenta = (id,d) => abrirModalSimples('tool',d); 
        window.verDetalhesItem = (id,d) => abrirModalSimples('item',d);
        
        window.fecharJutsuModal = () => document.getElementById('jutsuModal').style.display='none';
        window.fecharToolModal = () => document.getElementById('toolModal').style.display='none';
        window.fecharItemModal = () => document.getElementById('itemModal').style.display='none';
        
        window.verPerfil = async (uid) => { const s = await getDoc(doc(db, "users", uid)); if(s.exists()) { const u = s.data(); document.getElementById('profile-modal-name').innerText = u.nome; document.getElementById('profile-modal-char').innerText = u.apelido || ""; document.getElementById('profile-modal-img').src = u.avatar||IMG_PADRAO; renderizarIcones(u.elementos || [], 'profile-elementos-container', ELEMENTOS_ICONS, 'Naturezas de Chakra'); renderizarIcones(u.kekkei_genkai || [], 'profile-kekkei-container', KEKKEI_ICONS, 'Kekkei Genkai'); const statsContainer = document.getElementById('other-profile-stats'); statsContainer.innerHTML = `<div class="stats-divider">Geral</div><div class="stat-card"><div class="stat-value">${u.nivel||1}</div><div class="stat-label">Nível</div></div><div class="stat-card"><div class="stat-value">${u.cargo||'Genin'}</div><div class="stat-label">Cargo</div></div><div class="stat-card"><div class="stat-value">${u.tipo||'Normal'}</div><div class="stat-label">Tipo</div></div><div class="stat-card"><div class="stat-value">${formatarNum(u.ryos)}</div><div class="stat-label">Ryos</div></div><div class="stats-divider">Batalha</div><div class="stat-card"><div class="stat-value">${u.vitorias||0}</div><div class="stat-label">Vitórias</div></div><div class="stat-card"><div class="stat-value">${u.empates||0}</div><div class="stat-label">Empates</div></div><div class="stat-card"><div class="stat-value">${u.loses||0}</div><div class="stat-label">Derrotas</div></div><div class="stats-divider">Inventário</div><div class="stat-card"><div class="stat-value">${(u.meusJutsus||[]).length}</div><div class="stat-label">Jutsus</div></div><div class="stats-divider">Vitalidade</div><div class="stat-card"><div class="stat-value">${u.vida||100}</div><div class="stat-label">Vida</div></div><div class="stat-card"><div class="stat-value">${u.chakra||100}</div><div class="stat-label">Chakra</div></div><div class="stat-card"><div class="stat-value">${u.stamina||100}</div><div class="stat-label">Stamina</div></div><div class="stat-card"><div class="stat-value">${u.controle_chakra||"Baixo"}</div><div class="stat-label">Controle</div></div><div class="stats-divider">Atributos</div><div class="stat-card"><div class="stat-value">${u.forca||10}</div><div class="stat-label">Força</div></div><div class="stat-card"><div class="stat-value">${u.defesa||10}</div><div class="stat-label">Defesa</div></div><div class="stat-card"><div class="stat-value">${u.agilidade||10}</div><div class="stat-label">Agilidade</div></div><div class="stat-card"><div class="stat-value">${u.velocidade||10}</div><div class="stat-label">Velocidade</div></div><div class="stat-card"><div class="stat-value">${u.intelecto||10}</div><div class="stat-label">Intelecto</div></div>`; document.getElementById('profileModal').style.display = 'flex'; } };
        window.fecharProfileModal = () => document.getElementById('profileModal').style.display = 'none';

        // --- PAINEL KAGE ---
        async function carregarPainelAdmin() { try { const c = document.getElementById('admin-missoes-grid'); c.innerHTML='Carregando...'; const s = await getDocs(collection(db, "users")); c.innerHTML=''; s.forEach(u=>{ const d=u.data(); const m=d.statusMissoes||{}; const cq=d.statusConquistas||{}; for(const [mid,st] of Object.entries(m)){ if(st==='em_andamento'){ const k=document.createElement('div'); k.className='card'; k.innerHTML=`<h4>${d.nome} (Missão)</h4><p>${mid}</p><button class="mission-btn-collect" onclick="aprovarMissao('${u.id}','${mid}')">Aprovar</button>`; c.appendChild(k); } } for(const [cid,st] of Object.entries(cq)){ if(st==='solicitado'){ const k=document.createElement('div'); k.className='card'; k.innerHTML=`<h4>${d.nome} (Conquista)</h4><p>${cid}</p><button class="mission-btn-collect" onclick="aprovarConquista('${u.id}','${cid}')">Aprovar</button>`; c.appendChild(k); } } }); } catch(e){} }
        window.aprovarMissao = async (uid, mid) => { if(confirm("Aprovar?")) await updateDoc(doc(db, "users", uid), { [`statusMissoes.${mid}`]: 'aprovado' }); alert("Feito!"); };
        window.aprovarConquista = async (uid, cid) => { if(confirm("Aprovar?")) await updateDoc(doc(db, "users", uid), { [`statusConquistas.${cid}`]: 'aprovado' }); alert("Feito!"); };

        // --- OUTROS ---
        window.handleImageUpload = async (e) => { if(e.target.files[0]) { try { currentImageBase64 = await comprimirImagem(e.target.files[0]); document.getElementById('preview-image').src = currentImageBase64; document.getElementById('preview-container').style.display='block'; } catch(e){} } };
        window.removeImage = () => { document.getElementById('imageInput').value=''; currentImageBase64=null; document.getElementById('preview-container').style.display='none'; };
        window.publicarPost = async () => { const t = document.getElementById('postInput').value; if(!t.trim() && !currentImageBase64) return alert("Texto vazio"); const btn=document.querySelector('.btn-post'); btn.innerText="..."; try { await addDoc(collection(db, "posts"), { uid: auth.currentUser.uid, autor: currentUserData.apelido, autorAvatar: currentUserData.avatar, conteudo: t, imagem: currentImageBase64, data: serverTimestamp(), likes: [], savedBy: [], comments: [] }); document.getElementById('postInput').value=''; removeImage(); } catch(e){} finally{btn.innerText="Publicar";} };
        window.renderFeed = (f) => { const c = document.getElementById('feed-container'); if(!c) return; try { onSnapshot(query(collection(db, "posts"), orderBy("data", "desc")), (s) => { c.innerHTML = ''; s.forEach(d => { try { const p = d.data(); if(f==='saved' && !(p.savedBy||[]).includes(auth.currentUser.uid)) return; const isLiked=(p.likes||[]).includes(auth.currentUser.uid); const isSaved=(p.savedBy||[]).includes(auth.currentUser.uid); const div=document.createElement('div'); div.className='post'; div.innerHTML=`<div class="post-header"><div class="user-avatar-post"><img src="${p.autorAvatar||IMG_PADRAO}"></div><div class="post-info"><span class="post-author">${p.autor}</span><span class="post-time">${calcularTempo(p.data)}</span></div>${p.uid===auth.currentUser.uid?`<div class="post-menu-container"><div class="post-options-btn" onclick="this.nextElementSibling.classList.toggle('active')">...</div><div class="post-dropdown"><div class="dropdown-item danger" onclick="deletarPost('${d.id}')">Excluir</div></div></div>`:''}</div><div class="post-content">${p.conteudo}</div>${p.imagem?`<img src="${p.imagem}" class="post-image" onclick="verPost('${d.id}')">`:''}<div class="post-actions"><button class="action-btn ${isLiked?'liked':''}" onclick="toggleLike('${d.id}')"><i class="${isLiked?'fa-solid':'fa-regular'} fa-heart"></i> ${(p.likes||[]).length}</button><button class="action-btn" onclick="verPost('${d.id}')"><i class="fa-regular fa-comment"></i> ${(p.comments||[]).length}</button><button class="action-btn ${isSaved?'saved':''}" onclick="toggleSave('${d.id}')" style="margin-left:auto;"><i class="${isSaved?'fa-solid':'fa-regular'} fa-bookmark"></i></button></div>`; c.appendChild(div); } catch(e){} }); }); } catch(e){} };
        window.deletarPost = async (id) => { if(confirm("Apagar?")) await deleteDoc(doc(db, "posts", id)); };
        window.toggleLike = async (id) => { const r=doc(db,"posts",id), s=await getDoc(r), l=s.data().likes||[]; if(l.includes(auth.currentUser.uid)) await updateDoc(r,{likes:arrayRemove(auth.currentUser.uid)}); else await updateDoc(r,{likes:arrayUnion(auth.currentUser.uid)}); };
        window.toggleSave = async (id) => { const r=doc(db,"posts",id), s=await getDoc(r), l=s.data().savedBy||[]; if(l.includes(auth.currentUser.uid)) await updateDoc(r,{savedBy:arrayRemove(auth.currentUser.uid)}); else await updateDoc(r,{savedBy:arrayUnion(auth.currentUser.uid)}); };
        window.verPost = async (id) => { currentOpenPostId = id; const s = await getDoc(doc(db, "posts", id)), p = s.data(); document.getElementById('modalPostContent').innerHTML = p.imagem ? `<img src="${p.imagem}" style="width:100%;height:100%;object-fit:contain;">` : `<div style="padding:20px;">${p.conteudo}</div>`; document.getElementById('commentsList').innerHTML = (p.comments||[]).map(c=>`<div><b>${c.autor}</b>: ${c.texto}</div>`).join(''); document.getElementById('commentModal').style.display='flex'; };
        window.submitComment = async () => { const t = document.getElementById('newCommentText').value; if(!t) return; await updateDoc(doc(db, "posts", currentOpenPostId), { comments: arrayUnion({ autor: currentUserData.nome, texto: t }) }); document.getElementById('newCommentText').value = ""; verPost(currentOpenPostId); };
        window.closeModal = () => document.getElementById('commentModal').style.display = 'none';

        window.carregarRankings = async () => { const c = document.getElementById('ranking-container'); if(!c) return; try { const s = await getDocs(collection(db, "users")); let l = []; s.forEach(d => l.push(d.data())); c.innerHTML = ''; renderRank(c, "Nível", l, 'nivel'); renderRank(c, "Ryos", l, 'ryos'); renderRank(c, "Rankeadas", l, 'pontos_rankeada'); renderRank(c, "Torneios", l, 'vitorias_torneio'); renderRank(c, "Amistosos", l, 'pontos_amistoso'); renderRank(c, "Duplas", l, 'vitorias_dupla'); renderRank(c, "Guerra de Clãs", l, 'vitorias_cla'); renderRank(c, "Missões Rank S", l, 'missoes_concluidas_s'); renderRank(c, "Missões Rank A", l, 'missoes_concluidas_a'); renderRank(c, "Missões Rank B", l, 'missoes_concluidas_b'); renderRank(c, "Missões Rank C", l, 'missoes_concluidas_c'); renderRank(c, "Missões Rank D", l, 'missoes_concluidas_d'); renderRank(c, "Missões Rank E", l, 'missoes_concluidas_e'); } catch (e) {} };
        function renderRank(c,t,l,f) { const s=[...l].sort((a,b)=>(b[f]||0)-(a[f]||0)).slice(0,5); let h=`<div class="ranking-col"><h3>${t}</h3><table class="ranking-table">`; s.forEach((u,i)=>h+=`<tr><td>${i+1}. ${u.nome}</td><td>${formatarNum(u[f])}</td></tr>`); h+='</table></div>'; c.innerHTML+=h; }
        window.editarHistoria = async () => { const n=prompt("Texto:",currentUserData.historiaTexto||""); if(n){ const i=prompt("Imagem:",currentUserData.historiaImagem||""); updateDoc(doc(db,"users",auth.currentUser.uid),{historiaTexto:n,historiaImagem:i}).then(reloadData); } }
        async function carregarFrases() { const c = document.getElementById('frases-list-container'); try { onSnapshot(query(collection(db, "frases"), orderBy("data", "desc")), (s) => { c.innerHTML=''; s.forEach(d=>{ const f=d.data(); const k=document.createElement('div'); k.className='frase-item'; const menu = f.uid === auth.currentUser.uid ? `<div class="options-menu-container"><div class="options-btn" onclick="toggleFraseMenu(this); event.stopPropagation();">...</div><div class="options-dropdown"><div class="options-item" onclick="editarFrase('${d.id}','${f.texto}');event.stopPropagation()">Editar</div><div class="options-item danger" onclick="deletarFrase('${d.id}');event.stopPropagation()">Excluir</div></div></div>` : ''; k.onclick=()=>copiarFrase(f.texto); k.innerHTML=`<div class="frase-content">"${f.texto}"</div><div class="frase-author">- ${f.autor}</div>${menu}`; c.appendChild(k); }); }); } catch(e){} }
        window.toggleFraseMenu = (el) => { const dropdown = el.nextElementSibling; document.querySelectorAll('.options-dropdown').forEach(d => { if(d !== dropdown) d.classList.remove('active'); }); dropdown.classList.toggle('active'); };
        window.adicionarFrase = async () => { const t=document.getElementById('novaFraseInput').value; if(t) await addDoc(collection(db,"frases"),{texto:t,autor:currentUserData.nome,uid:auth.currentUser.uid,data:serverTimestamp()}); document.getElementById('novaFraseInput').value=''; }
        window.editarFrase = async (id, oldText) => { const n = prompt("Editar:", oldText); if(n) await updateDoc(doc(db, "frases", id), { texto: n }); };
        window.deletarFrase = async (id) => { if(confirm("Excluir?")) await deleteDoc(doc(db, "frases", id)); };
        window.copiarFrase = (t) => { navigator.clipboard.writeText(t).then(() => { const f=document.getElementById('copyFeedback'); f.style.display='block'; setTimeout(()=>f.style.display='none',2000); }); };
        
        window.toggleMenu = () => document.getElementById('user-menu').classList.toggle('show');
        window.fazerLogout = () => signOut(auth).then(() => location.reload());
        window.openEditProfileModal = () => { document.getElementById('editProfileModal').style.display = 'flex'; document.getElementById('edit-name-input').value = currentUserData.nome || ""; document.getElementById('edit-nick-input').value = currentUserData.apelido || ""; document.getElementById('user-menu').classList.remove('show'); };
        window.closeEditProfileModal = () => document.getElementById('editProfileModal').style.display = 'none';
        window.handleAvatarPreview = async (e) => { if(e.target.files[0]) { newAvatarBase64 = await comprimirImagem(e.target.files[0]); document.getElementById('edit-avatar-preview').src = newAvatarBase64; } };
        window.salvarPerfil = async () => { const nome = document.getElementById('edit-name-input').value; const apelido = document.getElementById('edit-nick-input').value; const updates = { nome: nome, apelido: apelido, personagem: nome }; if(newAvatarBase64) updates.avatar = newAvatarBase64; await updateDoc(doc(db, "users", auth.currentUser.uid), updates); location.reload(); };
        window.openChangePasswordModal = () => { document.getElementById('changePasswordModal').style.display='flex'; document.getElementById('user-menu').classList.remove('show'); };
        window.closeChangePasswordModal = () => document.getElementById('changePasswordModal').style.display='none';
        window.salvarNovaSenha = async () => { const p = document.getElementById('new-password').value; if(!p || p.length < 6) return alert("Mínimo 6 caracteres"); try { await updatePassword(auth.currentUser, p); alert("Sucesso!"); closeChangePasswordModal(); } catch(e) { alert("Erro: " + e.message); } };

        function comprimirImagem(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = (event) => {
                    const img = new Image();
                    img.src = event.target.result;
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        const MAX_WIDTH = 600;
                        const scaleSize = MAX_WIDTH / img.width;
                        canvas.width = MAX_WIDTH;
                        canvas.height = img.height * scaleSize;
                        const ctx = canvas.getContext('2d');
                        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                        resolve(canvas.toDataURL('image/jpeg', 0.7));
                    };
                    img.onerror = () => reject("Erro ao carregar imagem.");
                };
                reader.onerror = () => reject("Erro ao ler arquivo.");
                reader.readAsDataURL(file);
            });
        }
    </script>
</body>
</html>
